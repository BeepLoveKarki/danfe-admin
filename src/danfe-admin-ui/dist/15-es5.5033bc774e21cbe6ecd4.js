function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=_superPropBase(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Spgw:function(t,e,n){"use strict";n.r(e),n.d(e,"MarketingModule",(function(){return $})),n.d(e,"PromotionDetailComponent",(function(){return D})),n.d(e,"PromotionListComponent",(function(){return F})),n.d(e,"PromotionResolver",(function(){return x})),n.d(e,"marketingRoutes",(function(){return T})),n.d(e,"promotionBreadcrumb",(function(){return L})),n.d(e,"\u02750",(function(){return U})),n.d(e,"\u02751",(function(){return N}));var o=n("D57K"),r=n("EM62"),i=n("nIj0"),c=n("sEIs"),a=n("OxKu"),s=n("ixhn"),d=n("J+dc"),u=n("cJ9h"),l=n("TLy2"),m=n("6Oco"),f=n("2kYt"),p=n("Kej3"),b=n("s2Ay"),v=function(){return["enabled"]};function y(t,e){if(1&t&&(r.nc(0,"clr-toggle-wrapper"),r.ic(1,"input",23),r.nc(2,"label"),r.bd(3),r.yc(4,"translate"),r.mc(),r.mc()),2&t){var n=r.xc();r.Vb(1),r.Ec("formControl",n.detailForm.get(r.Ic(4,v))),r.Vb(2),r.cd(r.zc(4,2,"common.enabled"))}}function g(t,e){if(1&t){var n=r.oc();r.nc(0,"button",24),r.vc("click",(function(){return r.Sc(n),r.xc().create()})),r.bd(1),r.yc(2,"translate"),r.mc()}if(2&t){var o=r.xc();r.Ec("disabled",!o.saveButtonEnabled()),r.Vb(1),r.dd(" ",r.zc(2,2,"common.create")," ")}}function h(t,e){if(1&t){var n=r.oc();r.nc(0,"button",24),r.vc("click",(function(){return r.Sc(n),r.xc(2).save()})),r.bd(1),r.yc(2,"translate"),r.mc()}if(2&t){var o=r.xc(2);r.Ec("disabled",!o.saveButtonEnabled()),r.Vb(1),r.dd(" ",r.zc(2,2,"common.update")," ")}}function P(t,e){1&t&&r.Zc(0,h,3,4,"button",25),2&t&&r.Ec("vdrIfPermissions","UpdatePromotion")}function C(t,e){if(1&t){var n=r.oc();r.lc(0),r.nc(1,"vdr-configurable-input",26),r.vc("remove",(function(t){return r.Sc(n),r.xc().removeCondition(t)})),r.yc(2,"hasPermission"),r.mc(),r.kc()}if(2&t){var o=e.$implicit,i=e.index,c=r.xc();r.Vb(1),r.Ec("readonly",!r.zc(2,4,"UpdatePromotion"))("operation",o)("operationDefinition",c.getConditionDefinition(o))("formControlName",i)}}function O(t,e){if(1&t){var n=r.oc();r.nc(0,"button",31),r.vc("click",(function(){r.Sc(n);var t=e.$implicit;return r.xc(2).addCondition(t)})),r.bd(1),r.mc()}if(2&t){var o=e.$implicit;r.Vb(1),r.dd(" ",o.description," ")}}function k(t,e){if(1&t&&(r.nc(0,"vdr-dropdown"),r.nc(1,"button",27),r.ic(2,"clr-icon",28),r.bd(3),r.yc(4,"translate"),r.mc(),r.nc(5,"vdr-dropdown-menu",29),r.Zc(6,O,2,1,"button",30),r.mc(),r.mc()),2&t){var n=r.xc();r.Vb(3),r.dd(" ",r.zc(4,2,"marketing.add-condition")," "),r.Vb(3),r.Ec("ngForOf",n.getAvailableConditions())}}function A(t,e){if(1&t){var n=r.oc();r.nc(0,"vdr-configurable-input",32),r.vc("remove",(function(t){return r.Sc(n),r.xc().removeAction(t)})),r.yc(1,"hasPermission"),r.mc()}if(2&t){var o=e.$implicit,i=e.index,c=r.xc();r.Ec("operation",o)("readonly",!r.zc(1,4,"UpdatePromotion"))("operationDefinition",c.getActionDefinition(o))("formControlName",i)}}function V(t,e){if(1&t){var n=r.oc();r.nc(0,"button",31),r.vc("click",(function(){r.Sc(n);var t=e.$implicit;return r.xc(2).addAction(t)})),r.bd(1),r.mc()}if(2&t){var o=e.$implicit;r.Vb(1),r.dd(" ",o.description," ")}}function _(t,e){if(1&t&&(r.nc(0,"vdr-dropdown"),r.nc(1,"button",27),r.ic(2,"clr-icon",28),r.bd(3),r.yc(4,"translate"),r.mc(),r.nc(5,"vdr-dropdown-menu",29),r.Zc(6,V,2,1,"button",30),r.mc(),r.mc()),2&t){var n=r.xc();r.Vb(3),r.dd(" ",r.zc(4,2,"marketing.add-action")," "),r.Vb(3),r.Ec("ngForOf",n.getAvailableActions())}}var w=function(){return["./create"]};function j(t,e){1&t&&(r.nc(0,"a",3),r.ic(1,"clr-icon",4),r.bd(2),r.yc(3,"translate"),r.mc()),2&t&&(r.Ec("routerLink",r.Ic(4,w)),r.Vb(2),r.dd(" ",r.zc(3,2,"marketing.create-new-promotion")," "))}function E(t,e){if(1&t&&(r.nc(0,"vdr-chip"),r.bd(1),r.mc()),2&t){var n=r.xc().item;r.Vb(1),r.dd(" ",n.couponCode," ")}}function I(t,e){1&t&&(r.nc(0,"vdr-chip"),r.bd(1),r.yc(2,"translate"),r.mc()),2&t&&(r.Vb(1),r.cd(r.zc(2,1,"common.disabled")))}var z=function(t){return["./",t]};function S(t,e){if(1&t){var n=r.oc();r.nc(0,"td",5),r.bd(1),r.mc(),r.nc(2,"td",5),r.Zc(3,E,2,1,"vdr-chip",6),r.mc(),r.nc(4,"td",5),r.bd(5),r.yc(6,"date"),r.mc(),r.nc(7,"td",5),r.bd(8),r.yc(9,"date"),r.mc(),r.nc(10,"td",7),r.Zc(11,I,3,3,"vdr-chip",6),r.mc(),r.nc(12,"td",8),r.ic(13,"vdr-table-row-action",9),r.yc(14,"translate"),r.mc(),r.nc(15,"td",8),r.nc(16,"vdr-dropdown"),r.nc(17,"button",10),r.bd(18),r.yc(19,"translate"),r.ic(20,"clr-icon",11),r.mc(),r.nc(21,"vdr-dropdown-menu",12),r.nc(22,"button",13),r.vc("click",(function(){r.Sc(n);var t=e.item;return r.xc().deletePromotion(t.id)})),r.yc(23,"hasPermission"),r.ic(24,"clr-icon",14),r.bd(25),r.yc(26,"translate"),r.mc(),r.mc(),r.mc(),r.mc()}if(2&t){var o=e.item;r.Vb(1),r.cd(o.name),r.Vb(2),r.Ec("ngIf",o.couponCode),r.Vb(2),r.cd(r.Ac(6,10,o.startsAt,"longDate")),r.Vb(3),r.cd(r.Ac(9,13,o.endsAt,"longDate")),r.Vb(3),r.Ec("ngIf",!o.enabled),r.Vb(2),r.Ec("label",r.zc(14,16,"common.edit"))("linkTo",r.Jc(24,z,o.id)),r.Vb(5),r.dd(" ",r.zc(19,18,"common.actions")," "),r.Vb(4),r.Ec("disabled",!r.zc(23,20,"DeletePromotion")),r.Vb(3),r.dd(" ",r.zc(26,22,"common.delete")," ")}}var D=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,a,s,d){var u;return _classCallCheck(this,n),(u=e.call(this,o,t,r,a)).changeDetector=c,u.dataService=a,u.formBuilder=s,u.notificationService=d,u.conditions=[],u.actions=[],u.allConditions=[],u.allActions=[],u.detailForm=u.formBuilder.group({name:["",i.C.required],enabled:!0,couponCode:null,perCustomerUsageLimit:null,startsAt:null,endsAt:null,conditions:u.formBuilder.array([]),actions:u.formBuilder.array([])}),u}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.init(),this.promotion$=this.entity$,this.dataService.promotion.getPromotionActionsAndConditions().single$.subscribe((function(e){t.allActions=e.promotionActions,t.allConditions=e.promotionConditions,t.changeDetector.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.destroy()}},{key:"getAvailableConditions",value:function(){var t=this;return this.allConditions.filter((function(e){return!t.conditions.find((function(t){return t.code===e.code}))}))}},{key:"getConditionDefinition",value:function(t){return this.allConditions.find((function(e){return e.code===t.code}))}},{key:"getAvailableActions",value:function(){var t=this;return this.allActions.filter((function(e){return!t.actions.find((function(t){return t.code===e.code}))}))}},{key:"getActionDefinition",value:function(t){return this.allActions.find((function(e){return e.code===t.code}))}},{key:"saveButtonEnabled",value:function(){return this.detailForm.dirty&&this.detailForm.valid&&(0!==this.conditions.length||this.detailForm.value.couponCode)&&0!==this.actions.length}},{key:"addCondition",value:function(t){this.addOperation("conditions",t),this.detailForm.markAsDirty()}},{key:"addAction",value:function(t){this.addOperation("actions",t),this.detailForm.markAsDirty()}},{key:"removeCondition",value:function(t){this.removeOperation("conditions",t),this.detailForm.markAsDirty()}},{key:"removeAction",value:function(t){this.removeOperation("actions",t),this.detailForm.markAsDirty()}},{key:"formArrayOf",value:function(t){return this.detailForm.get(t)}},{key:"create",value:function(){var t=this;if(this.detailForm.dirty){var e=this.detailForm.value,n={name:e.name,enabled:!0,couponCode:e.couponCode,perCustomerUsageLimit:e.perCustomerUsageLimit,startsAt:e.startsAt,endsAt:e.endsAt,conditions:this.mapOperationsToInputs(this.conditions,e.conditions),actions:this.mapOperationsToInputs(this.actions,e.actions)};this.dataService.promotion.createPromotion(n).subscribe((function(e){t.notificationService.success(Object(a.a)("common.notify-create-success"),{entity:"Promotion"}),t.detailForm.markAsPristine(),t.changeDetector.markForCheck(),t.router.navigate(["../",e.createPromotion.id],{relativeTo:t.route})}),(function(e){t.notificationService.error(Object(a.a)("common.notify-create-error"),{entity:"Promotion"})}))}}},{key:"save",value:function(){var t=this;if(this.detailForm.dirty){var e=this.detailForm.value;this.promotion$.pipe(Object(d.a)(1),Object(u.a)((function(n){var o={id:n.id,name:e.name,enabled:e.enabled,couponCode:e.couponCode,perCustomerUsageLimit:e.perCustomerUsageLimit,startsAt:e.startsAt,endsAt:e.endsAt,conditions:t.mapOperationsToInputs(t.conditions,e.conditions),actions:t.mapOperationsToInputs(t.actions,e.actions)};return t.dataService.promotion.updatePromotion(o)}))).subscribe((function(e){t.notificationService.success(Object(a.a)("common.notify-update-success"),{entity:"Promotion"}),t.detailForm.markAsPristine(),t.changeDetector.markForCheck()}),(function(e){t.notificationService.error(Object(a.a)("common.notify-update-error"),{entity:"Promotion"})}))}}},{key:"setFormValues",value:function(t,e){var n=this;this.detailForm.patchValue({name:t.name,enabled:t.enabled,couponCode:t.couponCode,perCustomerUsageLimit:t.perCustomerUsageLimit,startsAt:t.startsAt,endsAt:t.endsAt}),t.conditions.forEach((function(t){n.addOperation("conditions",t)})),t.actions.forEach((function(t){return n.addOperation("actions",t)}))}},{key:"mapOperationsToInputs",value:function(t,e){return t.map((function(t,n){return{code:t.code,arguments:Object.values(e[n].args).map((function(e,n){return{name:t.args[n].name,value:Object(s.Wb)(e)}}))}}))}},{key:"addOperation",value:function(t,e){var n=this,o=this.formArrayOf(t),r="conditions"===t?this.conditions:this.actions;if(-1===o.value.findIndex((function(t){return t.code===e.code}))){var i=e.args.reduce((function(o,r){var i;return Object.assign(Object.assign({},o),_defineProperty({},r.name,null!==(i=Object(s.Yb)(r.value))&&void 0!==i?i:n.getDefaultArgValue(t,e,r.name)))}),{});o.push(this.formBuilder.control({code:e.code,args:i})),r.push({code:e.code,args:e.args.map((function(t){return{name:t.name,value:Object(s.Yb)(t.value)}}))})}}},{key:"getDefaultArgValue",value:function(t,e,n){var o="conditions"===t?this.allConditions.find((function(t){return t.code===e.code})):this.allActions.find((function(t){return t.code===e.code}));if(o){var r=o.args.find((function(t){return t.name===n}));if(r)return Object(s.Zb)(r)}throw new Error('Could not determine default value for "argName"')}},{key:"removeOperation",value:function(t,e){var n=this.formArrayOf(t),o="conditions"===t?this.conditions:this.actions,r=n.value.findIndex((function(t){return t.code===e.code}));-1!==r&&(n.removeAt(r),o.splice(r,1))}}]),n}(s.u);D.\u0275fac=function(t){return new(t||D)(r.hc(c.e),r.hc(c.a),r.hc(s.Ib),r.hc(r.k),r.hc(s.K),r.hc(i.e),r.hc(s.zb))},D.\u0275cmp=r.bc({type:D,selectors:[["vdr-promotion-detail"]],features:[r.Sb],decls:46,vars:43,consts:[[1,"flex","clr-align-items-center"],[3,"entity"],[4,"vdrIfPermissions"],["locationId","promotion-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","startsAt",3,"label"],["formControlName","startsAt"],["for","endsAt",3,"label"],["formControlName","endsAt"],["for","couponCode",3,"label"],["id","couponCode","type","text","formControlName","couponCode",3,"readonly"],["for","perCustomerUsageLimit",3,"label"],["id","perCustomerUsageLimit","type","number","min","1","max","999","formControlName","perCustomerUsageLimit",3,"readonly"],[1,"clr-row"],["formArrayName","conditions",1,"clr-col"],[1,"clr-control-label"],[4,"ngFor","ngForOf"],["formArrayName","actions",1,"clr-col"],[3,"operation","readonly","operationDefinition","formControlName","remove",4,"ngFor","ngForOf"],["type","checkbox","clrToggle","","name","enabled",3,"formControl"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"readonly","operation","operationDefinition","formControlName","remove"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],[3,"operation","readonly","operationDefinition","formControlName","remove"]],template:function(t,e){if(1&t&&(r.nc(0,"vdr-action-bar"),r.nc(1,"vdr-ab-left"),r.nc(2,"div",0),r.ic(3,"vdr-entity-info",1),r.yc(4,"async"),r.Zc(5,y,5,5,"clr-toggle-wrapper",2),r.mc(),r.mc(),r.nc(6,"vdr-ab-right"),r.ic(7,"vdr-action-bar-items",3),r.Zc(8,g,3,4,"button",4),r.yc(9,"async"),r.Zc(10,P,1,1,"ng-template",null,5,r.ad),r.mc(),r.mc(),r.nc(12,"form",6),r.nc(13,"vdr-form-field",7),r.yc(14,"translate"),r.ic(15,"input",8),r.yc(16,"hasPermission"),r.mc(),r.nc(17,"vdr-form-field",9),r.yc(18,"translate"),r.ic(19,"vdr-datetime-picker",10),r.mc(),r.nc(20,"vdr-form-field",11),r.yc(21,"translate"),r.ic(22,"vdr-datetime-picker",12),r.mc(),r.nc(23,"vdr-form-field",13),r.yc(24,"translate"),r.ic(25,"input",14),r.yc(26,"hasPermission"),r.mc(),r.nc(27,"vdr-form-field",15),r.yc(28,"translate"),r.ic(29,"input",16),r.yc(30,"hasPermission"),r.mc(),r.nc(31,"div",17),r.nc(32,"div",18),r.nc(33,"label",19),r.bd(34),r.yc(35,"translate"),r.mc(),r.Zc(36,C,3,6,"ng-container",20),r.nc(37,"div"),r.Zc(38,k,7,4,"vdr-dropdown",2),r.mc(),r.mc(),r.nc(39,"div",21),r.nc(40,"label",19),r.bd(41),r.yc(42,"translate"),r.mc(),r.Zc(43,A,2,6,"vdr-configurable-input",22),r.nc(44,"div"),r.Zc(45,_,7,4,"vdr-dropdown",2),r.mc(),r.mc(),r.mc(),r.mc()),2&t){var n=r.Pc(11);r.Vb(3),r.Ec("entity",r.zc(4,19,e.entity$)),r.Vb(2),r.Ec("vdrIfPermissions","UpdatePromotion"),r.Vb(3),r.Ec("ngIf",r.zc(9,21,e.isNew$))("ngIfElse",n),r.Vb(4),r.Ec("formGroup",e.detailForm),r.Vb(1),r.Ec("label",r.zc(14,23,"common.name")),r.Vb(2),r.Ec("readonly",!r.zc(16,25,"UpdatePromotion")),r.Vb(2),r.Ec("label",r.zc(18,27,"marketing.starts-at")),r.Vb(3),r.Ec("label",r.zc(21,29,"marketing.ends-at")),r.Vb(3),r.Ec("label",r.zc(24,31,"marketing.coupon-code")),r.Vb(2),r.Ec("readonly",!r.zc(26,33,"UpdatePromotion")),r.Vb(2),r.Ec("label",r.zc(28,35,"marketing.per-customer-limit")),r.Vb(2),r.Ec("readonly",!r.zc(30,37,"UpdatePromotion")),r.Vb(5),r.cd(r.zc(35,39,"marketing.conditions")),r.Vb(2),r.Ec("ngForOf",e.conditions),r.Vb(2),r.Ec("vdrIfPermissions","UpdatePromotion"),r.Vb(3),r.cd(r.zc(42,41,"marketing.actions")),r.Vb(2),r.Ec("ngForOf",e.actions),r.Vb(2),r.Ec("vdrIfPermissions","UpdatePromotion")}},directives:[s.c,s.e,s.ab,s.pb,s.f,s.d,f.p,i.E,i.q,i.j,s.db,s.eb,i.b,i.p,i.h,s.N,i.v,i.d,p.t,f.o,p.k,i.a,p.i,i.g,s.C,s.S,s.V,p.o,s.U,s.T],pipes:[f.b,b.d,s.hb],styles:[""],changeDetection:0}),D.ctorParameters=function(){return[{type:c.e},{type:c.a},{type:s.Ib},{type:r.k},{type:s.K},{type:i.e},{type:s.zb}]},D=Object(o.c)([Object(o.f)("design:paramtypes",[c.e,c.a,s.Ib,r.k,s.K,i.e,s.zb])],D);var F=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,i,c){var a,s;return _classCallCheck(this,n),(s=e.call(this,o,r)).dataService=t,s.notificationService=i,s.modalService=c,_get((a=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"setQueryFn",a).call(a,(function(){var t;return(t=s.dataService.promotion).getPromotions.apply(t,arguments)}),(function(t){return t.promotions})),s}return _createClass(n,[{key:"deletePromotion",value:function(t){var e=this;this.modalService.dialog({title:Object(a.a)("catalog.confirm-delete-promotion"),buttons:[{type:"secondary",label:Object(a.a)("common.cancel")},{type:"danger",label:Object(a.a)("common.delete"),returnValue:!0}]}).pipe(Object(l.a)((function(n){return n?e.dataService.promotion.deletePromotion(t):m.a}))).subscribe((function(){e.notificationService.success(Object(a.a)("common.notify-delete-success"),{entity:"Promotion"}),e.refresh()}),(function(t){e.notificationService.error(Object(a.a)("common.notify-delete-error"),{entity:"Promotion"})}))}}]),n}(s.w);F.\u0275fac=function(t){return new(t||F)(r.hc(s.K),r.hc(c.e),r.hc(c.a),r.hc(s.zb),r.hc(s.yb))},F.\u0275cmp=r.bc({type:F,selectors:[["vdr-promotion-list"]],features:[r.Sb],decls:25,vars:25,consts:[["locationId","promotion-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[4,"ngIf"],[1,"align-middle"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"]],template:function(t,e){1&t&&(r.nc(0,"vdr-action-bar"),r.nc(1,"vdr-ab-right"),r.ic(2,"vdr-action-bar-items",0),r.Zc(3,j,4,5,"a",1),r.mc(),r.mc(),r.nc(4,"vdr-data-table",2),r.vc("pageChange",(function(t){return e.setPageNumber(t)}))("itemsPerPageChange",(function(t){return e.setItemsPerPage(t)})),r.yc(5,"async"),r.yc(6,"async"),r.yc(7,"async"),r.yc(8,"async"),r.nc(9,"vdr-dt-column"),r.bd(10),r.yc(11,"translate"),r.mc(),r.nc(12,"vdr-dt-column"),r.bd(13),r.yc(14,"translate"),r.mc(),r.nc(15,"vdr-dt-column"),r.bd(16),r.yc(17,"translate"),r.mc(),r.nc(18,"vdr-dt-column"),r.bd(19),r.yc(20,"translate"),r.mc(),r.ic(21,"vdr-dt-column"),r.ic(22,"vdr-dt-column"),r.ic(23,"vdr-dt-column"),r.Zc(24,S,27,26,"ng-template"),r.mc()),2&t&&(r.Vb(3),r.Ec("vdrIfPermissions","CreatePromotion"),r.Vb(1),r.Ec("items",r.zc(5,9,e.items$))("itemsPerPage",r.zc(6,11,e.itemsPerPage$))("totalItems",r.zc(7,13,e.totalItems$))("currentPage",r.zc(8,15,e.currentPage$)),r.Vb(6),r.cd(r.zc(11,17,"common.name")),r.Vb(3),r.cd(r.zc(14,19,"marketing.coupon-code")),r.Vb(3),r.cd(r.zc(17,21,"marketing.starts-at")),r.Vb(3),r.cd(r.zc(20,23,"marketing.ends-at")))},directives:[s.c,s.f,s.d,s.pb,s.M,s.L,c.h,p.o,f.p,s.Nb,s.S,s.V,s.U,s.T,s.B],pipes:[f.b,b.d,f.f,s.hb],styles:[""],changeDetection:0}),F.ctorParameters=function(){return[{type:s.K},{type:c.e},{type:c.a},{type:s.zb},{type:s.yb}]},F=Object(o.c)([Object(o.f)("design:paramtypes",[s.K,c.e,c.a,s.zb,s.yb])],F);var x=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o){return _classCallCheck(this,n),e.call(this,t,{__typename:"Promotion",id:"",createdAt:"",updatedAt:"",name:"",enabled:!1,conditions:[],actions:[]},(function(t){return o.promotion.getPromotion(t).mapStream((function(t){return t.promotion}))}))}return n}(s.v);x.\u0275fac=function(t){return new(t||x)(r.rc(c.e),r.rc(s.K))},x.ctorParameters=function(){return[{type:c.e},{type:s.K}]},x.\u0275prov=Object(r.dc)({factory:function(){return new x(Object(r.rc)(c.e),Object(r.rc)(s.K))},token:x,providedIn:"root"}),x=Object(o.c)([Object(o.f)("design:paramtypes",[c.e,s.K])],x);var U={breadcrumb:Object(a.a)("breadcrumb.promotions")},N={breadcrumb:L},T=[{path:"promotions",component:F,data:U},{path:"promotions/:id",component:D,resolve:Object(s.Tb)(x),canDeactivate:[s.x],data:N}];function L(t,e){return Object(s.Vb)({entity:t.entity,id:e.id,breadcrumbKey:"breadcrumb.promotions",getName:function(t){return t.name},route:"promotions"})}var $=function t(){_classCallCheck(this,t)};$.\u0275mod=r.fc({type:$}),$.\u0275inj=r.ec({factory:function(t){return new(t||$)},imports:[[s.Jb,c.i.forChild(T)]]})}}]);