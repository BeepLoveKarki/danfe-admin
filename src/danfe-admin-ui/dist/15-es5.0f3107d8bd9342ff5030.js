function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=_superPropBase(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Spgw:function(t,e,n){"use strict";n.r(e),n.d(e,"MarketingModule",(function(){return B})),n.d(e,"PromotionDetailComponent",(function(){return R})),n.d(e,"PromotionListComponent",(function(){return $})),n.d(e,"PromotionResolver",(function(){return T})),n.d(e,"marketingRoutes",(function(){return K})),n.d(e,"promotionBreadcrumb",(function(){return Y})),n.d(e,"\u02750",(function(){return N})),n.d(e,"\u02751",(function(){return L}));var o=n("D57K"),r=n("EM62"),c=n("nIj0"),i=n("sEIs"),a=n("OxKu"),s=n("ixhn"),l=n("wqq/"),d=n("J+dc"),u=n("cJ9h"),m=n("TLy2"),f=n("6Oco"),p=n("2kYt"),b=n("Kej3"),v=n("s2Ay"),y=function(){return["enabled"]};function g(t,e){if(1&t&&(r.mc(0,"clr-toggle-wrapper"),r.hc(1,"input",23),r.mc(2,"label"),r.ad(3),r.xc(4,"translate"),r.lc(),r.lc()),2&t){var n=r.wc();r.Ub(1),r.Dc("formControl",n.detailForm.get(r.Hc(4,y))),r.Ub(2),r.bd(r.yc(4,2,"common.enabled"))}}function h(t,e){if(1&t){var n=r.nc();r.mc(0,"button",24),r.uc("click",(function(){return r.Rc(n),r.wc().create()})),r.ad(1),r.xc(2,"translate"),r.lc()}if(2&t){var o=r.wc();r.Dc("disabled",!o.saveButtonEnabled()),r.Ub(1),r.cd(" ",r.yc(2,2,"common.create")," ")}}function P(t,e){if(1&t){var n=r.nc();r.mc(0,"button",24),r.uc("click",(function(){return r.Rc(n),r.wc(2).save()})),r.ad(1),r.xc(2,"translate"),r.lc()}if(2&t){var o=r.wc(2);r.Dc("disabled",!o.saveButtonEnabled()),r.Ub(1),r.cd(" ",r.yc(2,2,"common.update")," ")}}function C(t,e){1&t&&r.Yc(0,P,3,4,"button",25),2&t&&r.Dc("vdrIfPermissions","UpdatePromotion")}function O(t,e){if(1&t){var n=r.nc();r.kc(0),r.mc(1,"vdr-configurable-input",26),r.uc("remove",(function(t){return r.Rc(n),r.wc().removeCondition(t)})),r.xc(2,"async"),r.xc(3,"hasPermission"),r.xc(4,"async"),r.lc(),r.jc()}if(2&t){var o=e.$implicit,c=e.index,i=r.wc();r.Ub(1),r.Dc("facets",r.yc(2,6,i.facets$))("readonly",!r.yc(3,8,"UpdatePromotion"))("operation",o)("operationDefinition",i.getConditionDefinition(o))("formControlName",c)("activeChannel",r.yc(4,10,i.activeChannel$))}}function k(t,e){if(1&t){var n=r.nc();r.mc(0,"button",31),r.uc("click",(function(){r.Rc(n);var t=e.$implicit;return r.wc(2).addCondition(t)})),r.ad(1),r.lc()}if(2&t){var o=e.$implicit;r.Ub(1),r.cd(" ",o.description," ")}}function U(t,e){if(1&t&&(r.mc(0,"vdr-dropdown"),r.mc(1,"button",27),r.hc(2,"clr-icon",28),r.ad(3),r.xc(4,"translate"),r.lc(),r.mc(5,"vdr-dropdown-menu",29),r.Yc(6,k,2,1,"button",30),r.lc(),r.lc()),2&t){var n=r.wc();r.Ub(3),r.cd(" ",r.yc(4,2,"marketing.add-condition")," "),r.Ub(3),r.Dc("ngForOf",n.getAvailableConditions())}}function D(t,e){if(1&t){var n=r.nc();r.mc(0,"vdr-configurable-input",32),r.uc("remove",(function(t){return r.Rc(n),r.wc().removeAction(t)})),r.xc(1,"async"),r.xc(2,"hasPermission"),r.xc(3,"async"),r.lc()}if(2&t){var o=e.$implicit,c=e.index,i=r.wc();r.Dc("facets",r.yc(1,6,i.facets$))("operation",o)("readonly",!r.yc(2,8,"UpdatePromotion"))("operationDefinition",i.getActionDefinition(o))("formControlName",c)("activeChannel",r.yc(3,10,i.activeChannel$))}}function w(t,e){if(1&t){var n=r.nc();r.mc(0,"button",31),r.uc("click",(function(){r.Rc(n);var t=e.$implicit;return r.wc(2).addAction(t)})),r.ad(1),r.lc()}if(2&t){var o=e.$implicit;r.Ub(1),r.cd(" ",o.description," ")}}function x(t,e){if(1&t&&(r.mc(0,"vdr-dropdown"),r.mc(1,"button",27),r.hc(2,"clr-icon",28),r.ad(3),r.xc(4,"translate"),r.lc(),r.mc(5,"vdr-dropdown-menu",29),r.Yc(6,w,2,1,"button",30),r.lc(),r.lc()),2&t){var n=r.wc();r.Ub(3),r.cd(" ",r.yc(4,2,"marketing.add-action")," "),r.Ub(3),r.Dc("ngForOf",n.getAvailableActions())}}var A=function(){return["./create"]};function _(t,e){1&t&&(r.mc(0,"a",3),r.hc(1,"clr-icon",4),r.ad(2),r.xc(3,"translate"),r.lc()),2&t&&(r.Dc("routerLink",r.Hc(4,A)),r.Ub(2),r.cd(" ",r.yc(3,2,"marketing.create-new-promotion")," "))}function j(t,e){if(1&t&&(r.mc(0,"vdr-chip"),r.ad(1),r.lc()),2&t){var n=r.wc().item;r.Ub(1),r.cd(" ",n.couponCode," ")}}function I(t,e){1&t&&(r.mc(0,"vdr-chip"),r.ad(1),r.xc(2,"translate"),r.lc()),2&t&&(r.Ub(1),r.bd(r.yc(2,1,"common.disabled")))}var F=function(t){return["./",t]};function S(t,e){if(1&t){var n=r.nc();r.mc(0,"td",5),r.ad(1),r.lc(),r.mc(2,"td",5),r.Yc(3,j,2,1,"vdr-chip",6),r.lc(),r.mc(4,"td",5),r.ad(5),r.xc(6,"date"),r.lc(),r.mc(7,"td",5),r.ad(8),r.xc(9,"date"),r.lc(),r.mc(10,"td",7),r.Yc(11,I,3,3,"vdr-chip",6),r.lc(),r.mc(12,"td",8),r.hc(13,"vdr-table-row-action",9),r.xc(14,"translate"),r.lc(),r.mc(15,"td",8),r.mc(16,"vdr-dropdown"),r.mc(17,"button",10),r.ad(18),r.xc(19,"translate"),r.hc(20,"clr-icon",11),r.lc(),r.mc(21,"vdr-dropdown-menu",12),r.mc(22,"button",13),r.uc("click",(function(){r.Rc(n);var t=e.item;return r.wc().deletePromotion(t.id)})),r.xc(23,"hasPermission"),r.hc(24,"clr-icon",14),r.ad(25),r.xc(26,"translate"),r.lc(),r.lc(),r.lc(),r.lc()}if(2&t){var o=e.item;r.Ub(1),r.bd(o.name),r.Ub(2),r.Dc("ngIf",o.couponCode),r.Ub(2),r.bd(r.zc(6,10,o.startsAt,"longDate")),r.Ub(3),r.bd(r.zc(9,13,o.endsAt,"longDate")),r.Ub(3),r.Dc("ngIf",!o.enabled),r.Ub(2),r.Dc("label",r.yc(14,16,"common.edit"))("linkTo",r.Ic(24,F,o.id)),r.Ub(5),r.cd(" ",r.yc(19,18,"common.actions")," "),r.Ub(4),r.Dc("disabled",!r.yc(23,20,"DeletePromotion")),r.Ub(3),r.cd(" ",r.yc(26,22,"common.delete")," ")}}var R=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,i,a,s,l){var d;return _classCallCheck(this,n),(d=e.call(this,o,t,r,a)).changeDetector=i,d.dataService=a,d.formBuilder=s,d.notificationService=l,d.conditions=[],d.actions=[],d.allConditions=[],d.allActions=[],d.detailForm=d.formBuilder.group({name:["",c.C.required],enabled:!0,couponCode:null,perCustomerUsageLimit:null,startsAt:null,endsAt:null,conditions:d.formBuilder.array([]),actions:d.formBuilder.array([])}),d}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.init(),this.facets$=this.dataService.facet.getAllFacets().mapSingle((function(t){return t.facets.items})).pipe(Object(l.a)(1)),this.promotion$=this.entity$,this.dataService.promotion.getPromotionActionsAndConditions().single$.subscribe((function(e){t.allActions=e.promotionActions,t.allConditions=e.promotionConditions})),this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream((function(t){return t.activeChannel})),setTimeout((function(){return t.changeDetector.markForCheck()}),0)}},{key:"ngOnDestroy",value:function(){this.destroy()}},{key:"getAvailableConditions",value:function(){var t=this;return this.allConditions.filter((function(e){return!t.conditions.find((function(t){return t.code===e.code}))}))}},{key:"getConditionDefinition",value:function(t){return this.allConditions.find((function(e){return e.code===t.code}))}},{key:"getAvailableActions",value:function(){var t=this;return this.allActions.filter((function(e){return!t.actions.find((function(t){return t.code===e.code}))}))}},{key:"getActionDefinition",value:function(t){return this.allActions.find((function(e){return e.code===t.code}))}},{key:"saveButtonEnabled",value:function(){return this.detailForm.dirty&&this.detailForm.valid&&(0!==this.conditions.length||this.detailForm.value.couponCode)&&0!==this.actions.length}},{key:"addCondition",value:function(t){this.addOperation("conditions",t),this.detailForm.markAsDirty()}},{key:"addAction",value:function(t){this.addOperation("actions",t),this.detailForm.markAsDirty()}},{key:"removeCondition",value:function(t){this.removeOperation("conditions",t),this.detailForm.markAsDirty()}},{key:"removeAction",value:function(t){this.removeOperation("actions",t),this.detailForm.markAsDirty()}},{key:"formArrayOf",value:function(t){return this.detailForm.get(t)}},{key:"create",value:function(){var t=this;if(this.detailForm.dirty){var e=this.detailForm.value,n={name:e.name,enabled:!0,couponCode:e.couponCode,perCustomerUsageLimit:e.perCustomerUsageLimit,startsAt:e.startsAt,endsAt:e.endsAt,conditions:this.mapOperationsToInputs(this.conditions,e.conditions),actions:this.mapOperationsToInputs(this.actions,e.actions)};this.dataService.promotion.createPromotion(n).subscribe((function(e){t.notificationService.success(Object(a.a)("common.notify-create-success"),{entity:"Promotion"}),t.detailForm.markAsPristine(),t.changeDetector.markForCheck(),t.router.navigate(["../",e.createPromotion.id],{relativeTo:t.route})}),(function(e){t.notificationService.error(Object(a.a)("common.notify-create-error"),{entity:"Promotion"})}))}}},{key:"save",value:function(){var t=this;if(this.detailForm.dirty){var e=this.detailForm.value;this.promotion$.pipe(Object(d.a)(1),Object(u.a)((function(n){var o={id:n.id,name:e.name,enabled:e.enabled,couponCode:e.couponCode,perCustomerUsageLimit:e.perCustomerUsageLimit,startsAt:e.startsAt,endsAt:e.endsAt,conditions:t.mapOperationsToInputs(t.conditions,e.conditions),actions:t.mapOperationsToInputs(t.actions,e.actions)};return t.dataService.promotion.updatePromotion(o)}))).subscribe((function(e){t.notificationService.success(Object(a.a)("common.notify-update-success"),{entity:"Promotion"}),t.detailForm.markAsPristine(),t.changeDetector.markForCheck()}),(function(e){t.notificationService.error(Object(a.a)("common.notify-update-error"),{entity:"Promotion"})}))}}},{key:"setFormValues",value:function(t,e){var n=this;this.detailForm.patchValue({name:t.name,enabled:t.enabled,couponCode:t.couponCode,perCustomerUsageLimit:t.perCustomerUsageLimit,startsAt:t.startsAt,endsAt:t.endsAt}),t.conditions.forEach((function(t){n.addOperation("conditions",t)})),t.actions.forEach((function(t){return n.addOperation("actions",t)}))}},{key:"mapOperationsToInputs",value:function(t,e){return t.map((function(t,n){return{code:t.code,arguments:Object.values(e[n].args).map((function(e,n){return{name:t.args[n].name,value:e.toString(),type:t.args[n].type}}))}}))}},{key:"addOperation",value:function(t,e){var n=this.formArrayOf(t),o="conditions"===t?this.conditions:this.actions;if(-1===n.value.findIndex((function(t){return t.code===e.code}))){var r=e.args.reduce((function(t,e){return Object.assign(Object.assign({},t),_defineProperty({},e.name,null!=e.value?e.value:Object(s.Ub)(e)))}),{});n.push(this.formBuilder.control({code:e.code,args:r})),o.push(e)}}},{key:"removeOperation",value:function(t,e){var n=this.formArrayOf(t),o="conditions"===t?this.conditions:this.actions,r=n.value.findIndex((function(t){return t.code===e.code}));-1!==r&&(n.removeAt(r),o.splice(r,1))}}]),n}(s.u);R.\u0275fac=function(t){return new(t||R)(r.gc(i.e),r.gc(i.a),r.gc(s.Fb),r.gc(r.k),r.gc(s.K),r.gc(c.e),r.gc(s.yb))},R.\u0275cmp=r.ac({type:R,selectors:[["vdr-promotion-detail"]],features:[r.Rb],decls:46,vars:43,consts:[[1,"flex","clr-align-items-center"],[3,"entity"],[4,"vdrIfPermissions"],["locationId","promotion-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","startsAt",3,"label"],["formControlName","startsAt"],["for","endsAt",3,"label"],["formControlName","endsAt"],["for","couponCode",3,"label"],["id","couponCode","type","text","formControlName","couponCode",3,"readonly"],["for","perCustomerUsageLimit",3,"label"],["id","perCustomerUsageLimit","type","number","min","1","max","999","formControlName","perCustomerUsageLimit",3,"readonly"],[1,"clr-row"],["formArrayName","conditions",1,"clr-col"],[1,"clr-control-label"],[4,"ngFor","ngForOf"],["formArrayName","actions",1,"clr-col"],[3,"facets","operation","readonly","operationDefinition","formControlName","activeChannel","remove",4,"ngFor","ngForOf"],["type","checkbox","clrToggle","","name","enabled",3,"formControl"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"facets","readonly","operation","operationDefinition","formControlName","activeChannel","remove"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],[3,"facets","operation","readonly","operationDefinition","formControlName","activeChannel","remove"]],template:function(t,e){if(1&t&&(r.mc(0,"vdr-action-bar"),r.mc(1,"vdr-ab-left"),r.mc(2,"div",0),r.hc(3,"vdr-entity-info",1),r.xc(4,"async"),r.Yc(5,g,5,5,"clr-toggle-wrapper",2),r.lc(),r.lc(),r.mc(6,"vdr-ab-right"),r.hc(7,"vdr-action-bar-items",3),r.Yc(8,h,3,4,"button",4),r.xc(9,"async"),r.Yc(10,C,1,1,"ng-template",null,5,r.Zc),r.lc(),r.lc(),r.mc(12,"form",6),r.mc(13,"vdr-form-field",7),r.xc(14,"translate"),r.hc(15,"input",8),r.xc(16,"hasPermission"),r.lc(),r.mc(17,"vdr-form-field",9),r.xc(18,"translate"),r.hc(19,"vdr-datetime-picker",10),r.lc(),r.mc(20,"vdr-form-field",11),r.xc(21,"translate"),r.hc(22,"vdr-datetime-picker",12),r.lc(),r.mc(23,"vdr-form-field",13),r.xc(24,"translate"),r.hc(25,"input",14),r.xc(26,"hasPermission"),r.lc(),r.mc(27,"vdr-form-field",15),r.xc(28,"translate"),r.hc(29,"input",16),r.xc(30,"hasPermission"),r.lc(),r.mc(31,"div",17),r.mc(32,"div",18),r.mc(33,"label",19),r.ad(34),r.xc(35,"translate"),r.lc(),r.Yc(36,O,5,12,"ng-container",20),r.mc(37,"div"),r.Yc(38,U,7,4,"vdr-dropdown",2),r.lc(),r.lc(),r.mc(39,"div",21),r.mc(40,"label",19),r.ad(41),r.xc(42,"translate"),r.lc(),r.Yc(43,D,4,12,"vdr-configurable-input",22),r.mc(44,"div"),r.Yc(45,x,7,4,"vdr-dropdown",2),r.lc(),r.lc(),r.lc(),r.lc()),2&t){var n=r.Oc(11);r.Ub(3),r.Dc("entity",r.yc(4,19,e.entity$)),r.Ub(2),r.Dc("vdrIfPermissions","UpdatePromotion"),r.Ub(3),r.Dc("ngIf",r.yc(9,21,e.isNew$))("ngIfElse",n),r.Ub(4),r.Dc("formGroup",e.detailForm),r.Ub(1),r.Dc("label",r.yc(14,23,"common.name")),r.Ub(2),r.Dc("readonly",!r.yc(16,25,"UpdatePromotion")),r.Ub(2),r.Dc("label",r.yc(18,27,"marketing.starts-at")),r.Ub(3),r.Dc("label",r.yc(21,29,"marketing.ends-at")),r.Ub(3),r.Dc("label",r.yc(24,31,"marketing.coupon-code")),r.Ub(2),r.Dc("readonly",!r.yc(26,33,"UpdatePromotion")),r.Ub(2),r.Dc("label",r.yc(28,35,"marketing.per-customer-limit")),r.Ub(2),r.Dc("readonly",!r.yc(30,37,"UpdatePromotion")),r.Ub(5),r.bd(r.yc(35,39,"marketing.conditions")),r.Ub(2),r.Dc("ngForOf",e.conditions),r.Ub(2),r.Dc("vdrIfPermissions","UpdatePromotion"),r.Ub(3),r.bd(r.yc(42,41,"marketing.actions")),r.Ub(2),r.Dc("ngForOf",e.actions),r.Ub(2),r.Dc("vdrIfPermissions","UpdatePromotion")}},directives:[s.c,s.e,s.Z,s.ob,s.f,s.d,p.p,c.E,c.q,c.j,s.cb,s.db,c.b,c.p,c.h,s.N,c.v,c.d,b.t,p.o,b.k,c.a,b.i,c.g,s.C,s.S,s.V,b.o,s.U,s.T],pipes:[p.b,v.d,s.gb],styles:[""],changeDetection:0}),R.ctorParameters=function(){return[{type:i.e},{type:i.a},{type:s.Fb},{type:r.k},{type:s.K},{type:c.e},{type:s.yb}]},R=Object(o.c)([Object(o.f)("design:paramtypes",[i.e,i.a,s.Fb,r.k,s.K,c.e,s.yb])],R);var $=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i){var a,s;return _classCallCheck(this,n),(s=e.call(this,o,r)).dataService=t,s.notificationService=c,s.modalService=i,_get((a=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"setQueryFn",a).call(a,(function(){var t;return(t=s.dataService.promotion).getPromotions.apply(t,arguments)}),(function(t){return t.promotions})),s}return _createClass(n,[{key:"deletePromotion",value:function(t){var e=this;this.modalService.dialog({title:Object(a.a)("catalog.confirm-delete-promotion"),buttons:[{type:"secondary",label:Object(a.a)("common.cancel")},{type:"danger",label:Object(a.a)("common.delete"),returnValue:!0}]}).pipe(Object(m.a)((function(n){return n?e.dataService.promotion.deletePromotion(t):f.a}))).subscribe((function(){e.notificationService.success(Object(a.a)("common.notify-delete-success"),{entity:"Promotion"}),e.refresh()}),(function(t){e.notificationService.error(Object(a.a)("common.notify-delete-error"),{entity:"Promotion"})}))}}]),n}(s.w);$.\u0275fac=function(t){return new(t||$)(r.gc(s.K),r.gc(i.e),r.gc(i.a),r.gc(s.yb),r.gc(s.xb))},$.\u0275cmp=r.ac({type:$,selectors:[["vdr-promotion-list"]],features:[r.Rb],decls:25,vars:25,consts:[["locationId","promotion-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"items","itemsPerPage","totalItems","currentPage","pageChange","itemsPerPageChange"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"left","align-middle"],[4,"ngIf"],[1,"align-middle"],[1,"right","align-middle"],["iconShape","edit",3,"label","linkTo"],["type","button","vdrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","caret down"],["vdrPosition","bottom-right"],["type","button","vdrDropdownItem","",1,"delete-button",3,"disabled","click"],["shape","trash",1,"is-danger"]],template:function(t,e){1&t&&(r.mc(0,"vdr-action-bar"),r.mc(1,"vdr-ab-right"),r.hc(2,"vdr-action-bar-items",0),r.Yc(3,_,4,5,"a",1),r.lc(),r.lc(),r.mc(4,"vdr-data-table",2),r.uc("pageChange",(function(t){return e.setPageNumber(t)}))("itemsPerPageChange",(function(t){return e.setItemsPerPage(t)})),r.xc(5,"async"),r.xc(6,"async"),r.xc(7,"async"),r.xc(8,"async"),r.mc(9,"vdr-dt-column"),r.ad(10),r.xc(11,"translate"),r.lc(),r.mc(12,"vdr-dt-column"),r.ad(13),r.xc(14,"translate"),r.lc(),r.mc(15,"vdr-dt-column"),r.ad(16),r.xc(17,"translate"),r.lc(),r.mc(18,"vdr-dt-column"),r.ad(19),r.xc(20,"translate"),r.lc(),r.hc(21,"vdr-dt-column"),r.hc(22,"vdr-dt-column"),r.hc(23,"vdr-dt-column"),r.Yc(24,S,27,26,"ng-template"),r.lc()),2&t&&(r.Ub(3),r.Dc("vdrIfPermissions","CreatePromotion"),r.Ub(1),r.Dc("items",r.yc(5,9,e.items$))("itemsPerPage",r.yc(6,11,e.itemsPerPage$))("totalItems",r.yc(7,13,e.totalItems$))("currentPage",r.yc(8,15,e.currentPage$)),r.Ub(6),r.bd(r.yc(11,17,"common.name")),r.Ub(3),r.bd(r.yc(14,19,"marketing.coupon-code")),r.Ub(3),r.bd(r.yc(17,21,"marketing.starts-at")),r.Ub(3),r.bd(r.yc(20,23,"marketing.ends-at")))},directives:[s.c,s.f,s.d,s.ob,s.M,s.L,i.h,b.o,p.p,s.Kb,s.S,s.V,s.U,s.T,s.B],pipes:[p.b,v.d,p.f,s.gb],styles:[""],changeDetection:0}),$.ctorParameters=function(){return[{type:s.K},{type:i.e},{type:i.a},{type:s.yb},{type:s.xb}]},$=Object(o.c)([Object(o.f)("design:paramtypes",[s.K,i.e,i.a,s.yb,s.xb])],$);var T=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o){return _classCallCheck(this,n),e.call(this,t,{__typename:"Promotion",id:"",createdAt:"",updatedAt:"",name:"",enabled:!1,conditions:[],actions:[]},(function(t){return o.promotion.getPromotion(t).mapStream((function(t){return t.promotion}))}))}return n}(s.v);T.\u0275fac=function(t){return new(t||T)(r.qc(i.e),r.qc(s.K))},T.ctorParameters=function(){return[{type:i.e},{type:s.K}]},T.\u0275prov=Object(r.cc)({factory:function(){return new T(Object(r.qc)(i.e),Object(r.qc)(s.K))},token:T,providedIn:"root"}),T=Object(o.c)([Object(o.f)("design:paramtypes",[i.e,s.K])],T);var N={breadcrumb:Object(a.a)("breadcrumb.promotions")},L={breadcrumb:Y},K=[{path:"promotions",component:$,data:N},{path:"promotions/:id",component:R,resolve:Object(s.Qb)(T),canDeactivate:[s.x],data:L}];function Y(t,e){return Object(s.Sb)({entity:t.entity,id:e.id,breadcrumbKey:"breadcrumb.promotions",getName:function(t){return t.name},route:"promotions"})}var B=function t(){_classCallCheck(this,t)};B.\u0275mod=r.ec({type:B}),B.\u0275inj=r.dc({factory:function(t){return new(t||B)},imports:[[s.Gb,i.i.forChild(K)]]})}}]);
//# sourceMappingURL=15-es5.0f3107d8bd9342ff5030.js.map